Сложность:Средне

Как создать диалог посложнее.
Как создать диалог с разными вариантами ответов.
Как создать диалог который исчезнет после прочтения.

1. Открываем, например файл dialogs_escape.xml (gamedata/config/gameplay) и пишем в конец:


Код
<dialog id="test_dialog">
        <phrase_list>
            <phrase id="0">
        <text>test_dialog_0</text>
        <next>1</next>
            </phrase>
            <phrase id="1">
                <text>test_dialog_1</text>
        <next>2</next>
        <next>3</next>
            </phrase>
            <phrase id="2">
                <text>test_dialog_2</text>
            </phrase>
            <phrase id="3">
                <text>test_dialog_3</text>
            </phrase>
        </phrase_list>
    </dialog>


<next>2</next>
и
<next>3</next> это возможные ответы Меченого. 

2. Теперь нужно написать тексты диалога. Заходим в файл "stable_dialogs_bar.xml" (gamedata/config/text/rus) и пишем в конце:


Код
<string id="test_dialog_0">
        <text>Как дела?</text>
    </string>
    <string id="test_dialog_1">
        <text>Нормально, а у тебя?</text>
    </string>
    <string id="test_dialog_2">
        <text>Нормально</text>
    </string>
    <string id="test_dialog_3">
        <text>Хреново.</text>
    </string>


3.Чтобы этот диалог не появлялся, пишем инфопоршень. Например в файле info_l01escape.xml

Пишем:

<info_portion id="test_pogovoril"></info_portion>

4.Дописываем инфопоршень в скелет диалога:



Код
<dialog id="test_dialog">
<dont_has_info>test_pogovoril</dont_has_info>
        <phrase_list>
            <phrase id="0">
        <text>test_dialog_0</text>
        <next>1</next>
            </phrase>
            <phrase id="1">
                <text>test_dialog_1</text>
        <next>2</next>
        <next>3</next>
            </phrase>
            <phrase id="2">
                <text>test_dialog_2</text>
      <give_info>test_pogovoril</give_info>
            </phrase>
            <phrase id="3">
                <text>test_dialog_3</text>
      <give_info>test_pogovoril</give_info>
            </phrase>
        </phrase_list>
    </dialog>


<dont_has_info>test_pogovoril</dont_has_info> - если ГГ получил инфопоршень, диалог не показывать.

<give_info>test_pogovoril</give_info> - дать ГГ инфопоршень.

Получается, что когда ГГ скажет любую из 2 фраз, диалог больше не появится.